:root:-moz-lwtheme-brighttext {                                     /* minor color changes to the default dark theme */
    --chrome-color: var(--fglight) !important;                        /* url & tab text, close tab & new tab buttons */
    --lwt-text-color: var(--fglight) !important;
    --chrome-background-color: var(--bgdark) !important;              /* tab strip background & inactive tabs */
    --chrome-secondary-background-color: var(--bglight) !important;   /* nav bar & active tab */
}

:root {
    --toolbar-color: var(--fglight) !important;
    text-shadow: none !important;                                      /* Remove shadow from text */
    --color-overflow: var(--fglight);                                  /* button color */
    --button-radius: 0.2em !important;                                 /* Border-radius of buttons */
    --tabs-border: transparent !important;                             /* Hide tab border */
    --chrome-color: var(--fglight) !important;                         /* url & tab text, close tab & new tab buttons */
    background-color: var(--bglight) !important;                       /* top border of out of focus window */
    --lwt-text-color: var(--fglight) !important;                       /* Text colour */
    --toolbarbutton-icon-fill-opacity: 100% !important;
    --lwt-sidebar-text-color: var(--fglight) !important;               /* Sidebar text colour */
    --chrome-background-color: var(--bgdark) !important;               /* tab strip background & inactive tabs */
    --lwt-toolbar-field-color: var(--fglight) !important;
    --toolbox-border-bottom-color: transparent !important;             /* 1px line under background tabs */
    --lwt-toolbarbutton-icon-fill: var(--fgdark) !important;           /* Button fill color */
    --toolbarbutton-border-radius: var(--button-radius) !important;    /* border-radius of buttons */
    --chrome-secondary-background-color: var(--bglight) !important;    /* nav bar & active tab */
    --chrome-nav-bar-controls-border-color: transparent !important;    /* border around url bar */
    --autocomplete-popup-highlight-background: var(--selected) !important;
}

.autocomplete-richlistitem[selected=true],
.urlbarView-row[selected] {
    background-color: #ddd !important;
    color: #000 !important;
}

#urlbar {
    background-color: #ddd !important;
    border: none !important;
    box-shadow: none !important;
}

#tabbrowser-tabs {
    background-color: #eee !important;
    margin-bottom: 1px !important;
    z-index: 0 !important;
    --tab-line-color: -moz-win-accentcolor !important;
    --tab-loading-fill: -moz-win-accentcolor !important;
    box-shadow: none !important;
}

.tabbrowser-tab[selected="true"] {
    background-color: #fff !important;
}

/* Make tab close buttons appear on tab hover, replacing the tab icon */
.tabbrowser-tab .tab-close-button {
    -moz-box-ordinal-group: 0 !important;
    margin: 0px 5px 0px -2px !important;
    display: none !important;
}

.tabbrowser-tab:not([pinned="true"]):hover .tab-icon-image,
.tabbrowser-tab:not([pinned="true"]):hover .tab-throbber {
    display: none;
}

.tabbrowser-tab:not([pinned="true"]):hover .tab-close-button {
    display: -moz-box !important;
}

/* Tabs are de-saturated when inactive */
.tabbrowser-tab:not([selected=true]):not(:hover) .tab-stack .tab-content .tab-icon-image {
    filter: grayscale(100%) !important;
}
.tabbrowser-tab[selected=true] > .tab-stack > .tab-content > *,
.tabbrowser-tab:hover > .tab-stack > .tab-content > *{
    filter: grayscale(0%) !important;
}

/* Hide tab seperator line */
.tabbrowser-tab::after, .tabbrowser-tab::before {
    border-left: none !important;
}

/* Hide bookmarks and navbar bar until focused */
/* The mix of top/margin-bottom hides the bars without leaving a margin or going over the alltabs-button */
#PersonalToolbar:not([customizing]),
#nav-bar:not([customizing]) {
    height: 0 !important;
    margin-bottom: -20px !important;
    opacity: 0 !important;
    position: relative;
    top: -40px !important;
    transition: all 0.2s !important;
    z-index: -1 !important;
}

/* When navbar is focused, bring it into view */
#navigator-toolbox:not([customizing]):focus-within #nav-bar,
#navigator-toolbox:not([customizing]):focus-within #PersonalToolbar {
    height: auto !important;
    margin: 0 !important;
    opacity: 1 !important;
    transition: all 0.2s !important;
}

#navigator-toolbox:not([customizing]):focus-within #nav-bar {
    z-index: 1 !important;
}

#navigator-toolbox:not([customizing]):focus-within #PersonalToolbar {
    z-index: 0 !important;
}
